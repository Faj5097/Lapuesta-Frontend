(this["webpackJsonpfront-lapuesta"]=this["webpackJsonpfront-lapuesta"]||[]).push([[0],{62:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(30),s=a.n(r),l=a(14),i=a(3),o=a(0);var d=function(){return Object(o.jsx)("header",{children:Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"/",children:"FIFA FEED"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsxs)("a",{className:"nav-link",href:"/",children:["FIFA FEED",Object(o.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link",href:"/newPlayer",children:"Nutzer registrieren"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link",href:"/",children:"Ewige Tabelle"})})]})})]})})},j=a(2),u=a(31),b=a.n(u).a.create({baseURL:"https://protected-reaches-62397.herokuapp.com/",headers:{"Content-type":"application/json"}});function h(){return b.get("/players",[{$sort:{nickname:1}}])}function m(e,t){return b.patch("/players/"+e,t)}var p=function(){var e=n.a.useState(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=n.a.useState(""),s=Object(j.a)(r,2),l=s[0],d=s[1],u=Object(i.f)();return Object(o.jsx)("div",{className:".container",children:Object(o.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),(t={name:a,nickname:l,wins:0,draws:0,loses:0},b.post("/players",t)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),u.push("/")},children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("a",{type:"button",className:"close","aria-label":"Close",href:"/",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(o.jsx)("h5",{children:"Neuen Spieler anlegen"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",onChange:function(e){c(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"Nickname",onChange:function(e){d(e.target.value)}})]}),Object(o.jsx)("input",{type:"submit",className:"btn btn-primary btn-dark",value:"Spieler anlegen"})]})]})})})},O=a(20);function x(e,t){return b.patch("/matchUps/"+e,t)}function f(e){return b.delete("/matchUps/"+e)}var v=function(){var e=Object(i.f)(),t=Object(c.useState)([]),a=Object(j.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)([]),d=Object(j.a)(l,2),u=d[0],m=d[1],p=Object(c.useState)(""),x=Object(j.a)(p,2),f=x[0],v=x[1],y=Object(c.useState)(""),N=Object(j.a)(y,2),g=N[0],w=N[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),C=k[0],_=k[1],T=Object(c.useState)(""),D=Object(j.a)(T,2),U=D[0],E=D[1],P=Object(c.useState)(""),F=Object(j.a)(P,2),M=F[0],I=F[1],W=Object(c.useState)(""),L=Object(j.a)(W,2),$=L[0],q=L[1],A=Object(c.useState)(""),B=Object(j.a)(A,2),J=B[0],z=B[1],R=Object(c.useState)(""),Y=Object(j.a)(R,2),G=Y[0],H=Y[1];return n.a.useEffect((function(){h().then((function(e){s(e.data)})).catch((function(e){console.log(e)})),b.get("/teams",[{$sort:{country:-1}}]).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(o.jsx)("div",{className:".container",children:Object(o.jsx)("form",{onSubmit:function(t){t.preventDefault();var a,c={dateTimeOfMatchUp:new Date(Date.now()),alreadyPlayed:!1,result:{goals:{player1:0,player2:0},winner:"",looser:"",draw:!1},probability:{player1Wins:99.99,draw:99.99,player2Wins:99.99},teams:{home:{club:{name:C,stars:U},player1:{name:f}},away:{club:{name:J,stars:G},player2:{name:M}}}};(a=c,b.post("/matchUps",a)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),e.push("/")},children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("a",{type:"button",className:"close","aria-label":"Close",href:"/",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(o.jsx)("h5",{children:"Neues Spiel anlegen"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("h6",{children:"Player 1"}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){v(e.target.value)},required:!0,children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Name"}),r.map((function(e){return Object(o.jsx)("option",{value:e.nickname,children:e.nickname})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){var t=e.target.value;w(t),_(""),E("")},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Land"}),Object(O.a)(new Set(u.map((function(e){return e.country})))).map((function(e){return Object(o.jsx)("option",{value:e,children:e})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){""!==e.target.value&&(_(e.target.value),u.filter((function(t){return t.name===e.target.value})).map((function(e){return E(e.stars)})))},children:[Object(o.jsx)("option",{value:"Team",selected:"true",disabled:!0,hidden:!0,children:"Team"}),u.filter((function(e){return e.country===g})).map((function(e){return Object(o.jsx)("option",{value:e.name,children:e.name})}))]}),Object(o.jsx)("select",{className:"form-select form-control","aria-label":"Default select example",children:Object(o.jsx)("option",{value:""===C?"":u.filter((function(e){return e.name===C})).map((function(e){return e.stars})),selected:"true",disabled:!0,children:""===C?"Sterne":u.filter((function(e){return e.name===C})).map((function(e){return e.stars}))})}),Object(o.jsx)("h6",{children:"Player 2"}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){I(e.target.value)},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Name"}),r.map((function(e){return Object(o.jsx)("option",{value:e.nickname,children:e.nickname})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){var t=e.target.value;q(t),z(""),H("")},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Land"}),Object(O.a)(new Set(u.map((function(e){return e.country})))).map((function(e){return Object(o.jsx)("option",{value:e,children:e})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){""!==e.target.value&&(z(e.target.value),u.filter((function(t){return t.name===e.target.value})).map((function(e){return H(e.stars)})))},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Team"}),u.filter((function(e){return e.country===$})).map((function(e){return Object(o.jsx)("option",{value:e.name,children:e.name})}))]}),Object(o.jsx)("select",{className:"form-select form-control","aria-label":"Default select example",children:Object(o.jsx)("option",{value:""===J?"":u.filter((function(e){return e.name===J})).map((function(e){return e.stars})),selected:"true",disabled:!0,children:""===J?"Sterne":u.filter((function(e){return e.name===J})).map((function(e){return e.stars}))})})]}),Object(o.jsx)("input",{type:"submit",className:"btn btn-primary btn-dark",value:"Spiel anlegen"})]})]})})})},y=n.a.createContext();function N(e){var t=n.a.useState([]),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(o.jsx)(y.Provider,{value:[c,r],children:e.children})}var g=a(9),w=a.n(g),S=a(10);function k(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(S.a)(w.a.mark((function e(t,a,c){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,h().then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 3:r=n.filter((function(e){return e.nickname===a}))[0],s=n.filter((function(e){return e.nickname===c}))[0],t.result.goals.player1>t.result.goals.player2?(r.wins++,s.loses++):t.result.goals.player1===t.result.goals.player2?(r.draws++,s.draws++):(r.loses++,s.wins++),m(r._id,r),m(s._id,s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,a){return T.apply(this,arguments)}function T(){return(T=Object(S.a)(w.a.mark((function e(t,a,c){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,h().then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 3:r=n.filter((function(e){return e.nickname===a}))[0],s=n.filter((function(e){return e.nickname===c}))[0],t.result.goals.player1>t.result.goals.player2?(r.wins--,s.loses--):t.result.goals.player1===t.result.goals.player2?(r.draws--,s.draws--):(r.loses--,s.wins--),m(r._id,r),m(s._id,s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=n.a.useContext(y),a=Object(j.a)(t,1)[0],c=a[a.findIndex((function(t){return t._id===e._id}))];function r(){return(r=Object(S.a)(w.a.mark((function t(){var a,n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={result:{goals:{player1:c.result.goals.player1,player2:c.result.goals.player2}}},console.log(a),n=c.teams.home.player1.name,r=c.teams.away.player2.name,!c.alreadyPlayed){t.next=7;break}return t.next=7,_(a,n,r);case 7:f(e._id).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"btn-group close",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary btn-menu-card",onClick:function(){return r.apply(this,arguments)},children:Object(o.jsx)("span",{class:"fa fa-trash","aria-hidden":"true"})}),Object(o.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary btn-menu-card",children:Object(o.jsx)("span",{class:"fa fa-edit","aria-hidden":"true"})})]})};var U=function(e){var t=n.a.useContext(y),a=Object(j.a)(t,1)[0].filter((function(t){return t._id===e._id})).map((function(t){console.log(t);var a=t.teams.home.player1.name,c=t.teams.away.player2.name;return Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)(D,{_id:e._id}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:a}),Object(o.jsx)("div",{className:"col",children:"vs"}),Object(o.jsx)("div",{className:"col",children:c})]})]})}));return Object(o.jsx)("div",{children:a})};var E=function(e){var t=n.a.useContext(y),a=Object(j.a)(t,1)[0],r=a[a.findIndex((function(t){return t._id===e._id}))],s=Object(c.useState)(!1),l=Object(j.a)(s,2),i=l[0],d=l[1],u=Object(c.useState)({homeTeamScore:r.result.goals.player1,awayTeamScore:r.result.goals.player2}),b=Object(j.a)(u,2),h=b[0],m=b[1];function p(e){m({homeTeamScore:e.target.value,awayTeamScore:h.awayTeamScore})}function O(e){m({homeTeamScore:h.homeTeamScore,awayTeamScore:e.target.value})}function f(){return v.apply(this,arguments)}function v(){return(v=Object(S.a)(w.a.mark((function t(){var a,c,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={alreadyPlayed:!0,result:{goals:{player1:h.homeTeamScore,player2:h.awayTeamScore}}},console.log(a),c=r.teams.home.player1.name,n=r.teams.away.player2.name,t.next=6,k(a,c,n);case 6:return t.next=8,x(e._id,a).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 8:d(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){d(!0)}var g=a.filter((function(t){return t._id===e._id})).map((function(e){var t=e.alreadyPlayed,a=e.teams.home.club.name,c=e.teams.away.club.name,n=e.result.goals.player1,r=e.result.goals.player2,s=e.probability.player1Wins,l=e.probability.draw,d=e.probability.player2Wins;return i?Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)("form",{children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("input",{type:"number",id:"quantity",min:"0",max:"100",className:"form-control",onChange:p})}),Object(o.jsx)("div",{className:"col-2"}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("input",{type:"number",id:"typeNumber",min:"0",max:"100",className:"form-control",onChange:O})})]})})}),Object(o.jsx)("button",{className:"btn btn-primary btn-dark",onClick:f,children:"Ergebnis speichern"})]}):t?Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:n})}),Object(o.jsx)("div",{className:"col-2"}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:r})})]})})]}):Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:s}),Object(o.jsx)("div",{className:"col-2",children:l}),Object(o.jsx)("div",{className:"col-5",children:d})]})}),Object(o.jsx)("button",{className:"btn btn-primary btn-dark",onClick:N,children:"Ergebnis eintragen"})]})}));return Object(o.jsx)("div",{children:g})};var P=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:".container",children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsx)(U,{_id:e._id}),Object(o.jsx)(E,{_id:e._id})]})})})};var F=function(){var e=Object(i.f)();return Object(o.jsx)("button",{id:"newMatchUpButton",className:"btn btn-dark btn-circle btn-xl",onClick:function(){e.push("/newMatchUp")},children:Object(o.jsx)("h2",{children:"+"})})};var M=function(){var e=n.a.useContext(y),t=Object(j.a)(e,2),a=t[0],c=t[1];n.a.useEffect((function(){b.get("/matchUps",[{$sort:{dateTimeOfMatchUp:1}}]).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]);var r=[].concat(a).sort((function(e,t){return new Date(t.dateTimeOfMatchUp).getTime()-new Date(e.dateTimeOfMatchUp).getTime()})).map((function(e){return Object(o.jsx)(P,{_id:e._id},e._id)}));return Object(o.jsxs)("div",{children:[r,Object(o.jsx)(F,{})]})};var I=function(){var e=(new Date).getFullYear();return Object(o.jsx)("footer",{children:Object(o.jsxs)("p",{children:["Copyright ",e]})})};var W=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(d,{}),Object(o.jsx)(N,{children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/newPlayer",children:Object(o.jsx)(p,{})}),Object(o.jsx)(i.a,{path:"/newMatchUp",children:Object(o.jsx)(v,{})}),Object(o.jsx)(i.a,{path:"/",children:Object(o.jsx)(M,{})})]})})}),Object(o.jsx)(I,{})]})};s.a.render(Object(o.jsx)(W,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.11c4907f.chunk.js.map