(this["webpackJsonpfront-lapuesta"]=this["webpackJsonpfront-lapuesta"]||[]).push([[0],{62:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(30),s=a.n(r),l=a(11),i=a(3),o=a(0);var d=function(){return Object(o.jsx)("header",{children:Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"/",children:"FIFA FEED"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsxs)("a",{className:"nav-link",href:"/",children:["FIFA FEED",Object(o.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link",href:"/newPlayer",children:"Nutzer registrieren"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{className:"nav-link",href:"/",children:"Ewige Tabelle"})})]})})]})})},j=a(2),u=a(31),b=a.n(u).a.create({baseURL:"http://localhost:4000/",headers:{"Content-type":"application/json"}});function h(){return b.get("/players",[{$sort:{nickname:1}}])}function m(e,t){return b.patch("/players/"+e,t)}var O=function(){var e=n.a.useState(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=n.a.useState(""),s=Object(j.a)(r,2),l=s[0],d=s[1],u=Object(i.f)();return Object(o.jsx)("div",{className:".container",children:Object(o.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),(t={name:a,nickname:l,wins:0,draws:0,loses:0},b.post("/players",t)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),u.push("/")},children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("a",{type:"button",className:"close","aria-label":"Close",href:"/",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(o.jsx)("h5",{children:"Neuen Spieler anlegen"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",onChange:function(e){c(e.target.value)}}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"Nickname",onChange:function(e){d(e.target.value)}})]}),Object(o.jsx)("input",{type:"submit",className:"btn btn-primary btn-dark",value:"Spieler anlegen"})]})]})})})},x=a(20);function f(e,t){return b.patch("/matchUps/"+e,t)}var p=function(){var e=Object(i.f)(),t=Object(c.useState)([]),a=Object(j.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)([]),d=Object(j.a)(l,2),u=d[0],m=d[1],O=Object(c.useState)(""),f=Object(j.a)(O,2),p=f[0],v=f[1],N=Object(c.useState)(""),y=Object(j.a)(N,2),g=y[0],w=y[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),T=k[0],C=k[1],D=Object(c.useState)(""),_=Object(j.a)(D,2),U=_[0],M=_[1],E=Object(c.useState)(""),B=Object(j.a)(E,2),P=B[0],F=B[1],I=Object(c.useState)(""),W=Object(j.a)(I,2),L=W[0],$=W[1],q=Object(c.useState)(""),A=Object(j.a)(q,2),J=A[0],z=A[1],R=Object(c.useState)(""),Y=Object(j.a)(R,2),G=Y[0],H=Y[1];return n.a.useEffect((function(){h().then((function(e){s(e.data)})).catch((function(e){console.log(e)})),b.get("/teams",[{$sort:{country:-1}}]).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(o.jsx)("div",{className:".container",children:Object(o.jsx)("form",{onSubmit:function(t){t.preventDefault();var a,c={dateTimeOfMatchUp:new Date(Date.now()),alreadyPlayed:!1,result:{goals:{player1:0,player2:0},winner:"",looser:"",draw:!1},probability:{player1Wins:99.99,draw:99.99,player2Wins:99.99},teams:{home:{club:{name:T,stars:U},player1:{name:p,winsBefore:9,drawsBefore:5,losesBefore:1,goals:{scored:{allTime:60,thisMatchUp:0},conceded:{allTime:34,thisMatchUp:0}}}},away:{club:{name:J,stars:G},player2:{name:P,winsBefore:4,drawsBefore:10,losesBefore:8,goals:{scored:{allTime:55,thisMatchUp:0},conceded:{allTime:88,thisMatchUp:0}}}}}};(a=c,b.post("/matchUps",a)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),e.push("/")},children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("a",{type:"button",className:"close","aria-label":"Close",href:"/",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(o.jsx)("h5",{children:"Neues Spiel anlegen"})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("h6",{children:"Player 1"}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){v(e.target.value)},required:!0,children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Name"}),r.map((function(e){return Object(o.jsx)("option",{value:e.nickname,children:e.nickname})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){var t=e.target.value,a=u.filter((function(e){return e.country===t}))[0].name;u.filter((function(e){return e.name===a}))[0].stars,w(t),C(""),M("")},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Land"}),Object(x.a)(new Set(u.map((function(e){return e.country})))).map((function(e){return Object(o.jsx)("option",{value:e,children:e})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){""!==e.target.value&&(C(e.target.value),u.filter((function(t){return t.name===e.target.value})).map((function(e){return M(e.stars)})))},children:[Object(o.jsx)("option",{value:"Team",selected:"true",disabled:!0,hidden:!0,children:"Team"}),u.filter((function(e){return e.country===g})).map((function(e){return Object(o.jsx)("option",{value:e.name,children:e.name})}))]}),Object(o.jsx)("select",{className:"form-select form-control","aria-label":"Default select example",children:Object(o.jsx)("option",{value:""===T?"":u.filter((function(e){return e.name===T})).map((function(e){return e.stars})),selected:"true",disabled:!0,children:""===T?"Sterne":u.filter((function(e){return e.name===T})).map((function(e){return e.stars}))})}),Object(o.jsx)("h6",{children:"Player 2"}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){F(e.target.value),u.filter((function(e){return e.name===J})).map((function(e){return H(e.stars)}))},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Name"}),r.map((function(e){return Object(o.jsx)("option",{value:e.nickname,children:e.nickname})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){var t=e.target.value,a=u.filter((function(e){return e.country===t}))[0].name;u.filter((function(e){return e.name===a}))[0].stars,$(t),z(""),H("")},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Land"}),Object(x.a)(new Set(u.map((function(e){return e.country})))).map((function(e){return Object(o.jsx)("option",{value:e,children:e})}))]}),Object(o.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){z(e.target.value)},children:[Object(o.jsx)("option",{value:"",selected:"true",disabled:!0,hidden:!0,children:"Team"}),u.filter((function(e){return e.country===L})).map((function(e){return Object(o.jsx)("option",{value:e.name,children:e.name})}))]}),Object(o.jsx)("select",{className:"form-select form-control","aria-label":"Default select example",children:Object(o.jsx)("option",{value:""===J?"":u.filter((function(e){return e.name===J})).map((function(e){return e.stars})),selected:"true",disabled:!0,children:""===J?"Sterne":u.filter((function(e){return e.name===J})).map((function(e){return e.stars}))})})]}),Object(o.jsx)("input",{type:"submit",className:"btn btn-primary btn-dark",value:"Spiel anlegen"})]})]})})})},v=n.a.createContext();function N(e){var t=n.a.useState([]),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(o.jsx)(v.Provider,{value:[c,r],children:e.children})}var y=function(e){return Object(o.jsxs)("div",{className:"btn-group close",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary btn-menu-card",onClick:function(){var t;(t=e._id,b.delete("/matchUps/"+t)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),window.location.reload()},children:Object(o.jsx)("span",{class:"fa fa-trash","aria-hidden":"true"})}),Object(o.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary btn-menu-card",children:Object(o.jsx)("span",{class:"fa fa-edit","aria-hidden":"true"})})]})};var g=function(e){var t=n.a.useContext(v),a=Object(j.a)(t,2),c=a[0],r=(a[1],c.filter((function(t){return t._id===e._id})).map((function(t){console.log(t);var a=t.teams.home.player1.name,c=t.teams.away.player2.name;return Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)(y,{_id:e._id}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:a}),Object(o.jsx)("div",{className:"col",children:"vs"}),Object(o.jsx)("div",{className:"col",children:c})]})]})})));return Object(o.jsx)("div",{children:r})},w=a(10),S=a.n(w),k=a(15);function T(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(k.a)(S.a.mark((function e(t,a,c){var n,r,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,h().then((function(e){n=e.data})).catch((function(e){console.log(e)}));case 3:r=n.filter((function(e){return e.nickname===a}))[0],s=n.filter((function(e){return e.nickname===c}))[0],t.result.goals.player1>t.result.goals.player2?(r.wins++,s.loses++):t.result.goals.player1===t.result.goals.player2?(r.draws++,s.draws++):(r.loses++,s.wins++),m(r._id,r),m(s._id,s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){Object(i.f)();var t=n.a.useContext(v),a=Object(j.a)(t,1)[0],r=a[a.findIndex((function(t){return t._id===e._id}))],s=Object(c.useState)(!1),l=Object(j.a)(s,2),d=l[0],u=l[1],b=Object(c.useState)({homeTeamScore:r.result.goals.player1,awayTeamScore:r.result.goals.player2}),h=Object(j.a)(b,2),m=h[0],O=h[1];function x(e){O({homeTeamScore:e.target.value,awayTeamScore:m.awayTeamScore})}function p(e){O({homeTeamScore:m.homeTeamScore,awayTeamScore:e.target.value})}function N(){return y.apply(this,arguments)}function y(){return(y=Object(k.a)(S.a.mark((function t(){var a,c,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={alreadyPlayed:!0,result:{goals:{player1:m.homeTeamScore,player2:m.awayTeamScore}}},console.log(a),c=r.teams.home.player1.name,n=r.teams.away.player2.name,t.next=6,T(a,c,n);case 6:f(e._id,a).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),u(!1),window.location.reload();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){u(!0)}var w=a.filter((function(t){return t._id===e._id})).map((function(e){var t=e.alreadyPlayed,a=e.teams.home.club.name,c=e.teams.away.club.name,n=e.result.goals.player1,r=e.result.goals.player2,s=e.probability.player1Wins,l=e.probability.draw,i=e.probability.player2Wins;return d?Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)("form",{children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("input",{type:"number",id:"quantity",min:"0",max:"100",className:"form-control",onChange:x})}),Object(o.jsx)("div",{className:"col-2"}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("input",{type:"number",id:"typeNumber",min:"0",max:"100",className:"form-control",onChange:p})})]})})}),Object(o.jsx)("button",{className:"btn btn-primary btn-dark",onClick:N,children:"Ergebnis speichern"})]}):t?Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:n})}),Object(o.jsx)("div",{className:"col-2"}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:r})})]})})]}):Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:a})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)("h5",{children:"x"})}),Object(o.jsx)("div",{className:"col-5",children:Object(o.jsx)("h5",{children:c})})]})}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-5",children:s}),Object(o.jsx)("div",{className:"col-2",children:l}),Object(o.jsx)("div",{className:"col-5",children:i})]})}),Object(o.jsx)("button",{className:"btn btn-primary btn-dark",onClick:g,children:"Ergebnis eintragen"})]})}));return Object(o.jsx)("div",{children:w})};var _=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:".container",children:Object(o.jsxs)("div",{className:"card text-center",children:[Object(o.jsx)(g,{_id:e._id}),Object(o.jsx)(D,{_id:e._id})]})})})};var U=function(){var e=Object(i.f)();return Object(o.jsx)("button",{id:"newMatchUpButton",className:"btn btn-dark btn-circle btn-xl",onClick:function(){e.push("/newMatchUp")},children:Object(o.jsx)("h2",{children:"+"})})};var M=function(){var e=n.a.useContext(v),t=Object(j.a)(e,2),a=t[0],c=t[1];n.a.useEffect((function(){b.get("/matchUps",[{$sort:{dateTimeOfMatchUp:1}}]).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]);var r=[].concat(a).sort((function(e,t){return new Date(t.dateTimeOfMatchUp).getTime()-new Date(e.dateTimeOfMatchUp).getTime()})).map((function(e){return Object(o.jsx)(_,{_id:e._id},e._id)}));return Object(o.jsxs)("div",{children:[r,Object(o.jsx)(U,{})]})};var E=function(){var e=(new Date).getFullYear();return Object(o.jsx)("footer",{children:Object(o.jsxs)("p",{children:["Copyright ",e]})})};var B=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(d,{}),Object(o.jsx)(N,{children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/newPlayer",children:Object(o.jsx)(O,{})}),Object(o.jsx)(i.a,{path:"/newMatchUp",children:Object(o.jsx)(p,{})}),Object(o.jsx)(i.a,{path:"/",children:Object(o.jsx)(M,{})})]})})}),Object(o.jsx)(E,{})]})};s.a.render(Object(o.jsx)(B,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.0e46ba14.chunk.js.map